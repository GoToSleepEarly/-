(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"8+cs":function(e,a,t){"use strict";t.d(a,"b",(function(){return n})),t.d(a,"a",(function(){return r}));var n=[{pathname:"/questions/recommend",redirect:"/questions"},{pathname:"/user/messages",redirect:"/"},{pathname:"/user/notifications",redirect:"/"},{pathname:"/inbox",redirect:"/"},{pathname:"/subscribed",redirect:"/"}],r=[{name:"javascript",url:"/t/javascript"},{name:"php",url:"/t/php"},{name:"java",url:"/t/java"},{name:"vue.js",url:"/t/vue.js"},{name:"css",url:"/t/css"},{name:"html5",url:"/t/html5"},{name:"python",url:"/t/python"},{name:"node.js",url:"/t/node.js"},{name:"android",url:"/t/android"},{name:"mysql",url:"/t/mysql"},{name:"react.js",url:"/t/react.js"},{name:"linux",url:"/t/linux"},{name:"ios",url:"/t/ios"},{name:"git",url:"/t/git"},{name:"golang",url:"/t/golang"},{name:"spring",url:"/t/spring"},{name:"docker",url:"/t/docker"},{name:"\u7a0b\u5e8f\u5458",url:"/t/\u7a0b\u5e8f\u5458"}]},UFbl:function(e,a,t){e.exports={"tip-circle":"tip-circle___3bQrI","medal-circle":"medal-circle___3y5mn","sf-header-logo":"sf-header-logo___3_xEt","bg-warning":"bg-warning___1d-yx",dropdown:"dropdown___3SZe6","hover-down":"hover-down___3UKu6","dropdown-menu":"dropdown-menu___3NwcA","sflex-center":"sflex-center___2eThn","dropdown-toggle":"dropdown-toggle___3yzC1","header-search":"header-search___28AtS"}},XHHP:function(e,a,t){e.exports=t.p+"static/logo-b.d865fc97.svg"},ruvs:function(e,a,t){"use strict";var n=t("WmNS"),r=t.n(n),l=t("9og8"),c=t("tJVT"),o=t("q1tI"),s=t.n(o),i=t("Ty5D"),m=t("9kvl"),d=t("Dp36"),u=t("p46w"),v=t.n(u),f=t("8+cs"),g=t("UFbl"),p=t.n(g),b=t("6ctO"),h=t("7vrA"),E=t("+YzT"),N=t("GWEY"),w=t("QojX"),j=t("jDKy"),y=t("97+O"),k=t("65eO"),O=t("oBTY"),x=t("6xyR"),_=t("sjrs"),S=function(){return s.a.createElement("div",{className:p.a["sflex-center"]+" message-loading",style:{height:"100%"}},s.a.createElement("div",{className:"spinner-border text-secondary",role:"status"},s.a.createElement("span",{className:"sr-only"},"Loading...")))},I=S,C=t("RotF"),D=t.n(C),T=t("NAXS"),U=function(e){var a,t,n,r,l,i,m=e.data,d=Object(o["useState"])(null===m||void 0===m?void 0:m.viewed),u=Object(c["a"])(d,2),v=u[0],f=u[1];return s.a.createElement(T["a"],{as:"li",action:!0,className:"d-flex align-items-center ".concat(v?"":"bg-warning"," py-2 border-0"),onClick:function(){window.open(null===m||void 0===m?void 0:m.url),m.viewed||f(1)},style:{cursor:"pointer"}},s.a.createElement("img",{src:(null===m||void 0===m||null===(a=m.target_user)||void 0===a?void 0:a.avatar_url)||"https://image-static.segmentfault.com/317/931/3179314346-5f61e47221e07",alt:"",className:"rounded-circle mr-2",width:"32",height:"32"}),s.a.createElement("div",{className:"media-body"},s.a.createElement("a",{href:"javascript:;"===(null===m||void 0===m||null===(t=m.target_user)||void 0===t?void 0:t.url)?"#!":null===m||void 0===m||null===(n=m.target_user)||void 0===n?void 0:n.url,target:"_blank",rel:"noreferrer",className:"d-inline-block"},null===m||void 0===m||null===(r=m.target_user)||void 0===r?void 0:r.name),s.a.createElement("div",{className:"text-truncate text-secondary my-0",style:{maxWidth:"260px"},dangerouslySetInnerHTML:{__html:(null===m||void 0===m||null===(l=m.last_message)||void 0===l||null===(i=l.content)||void 0===i?void 0:i.content)||""}})))},A=s.a.memo(U),F=t("LvDl"),z=function(e){var a=e.visible,t=void 0!==a&&a,n=Object(o["useState"])([]),i=Object(c["a"])(n,2),u=i[0],v=i[1],f=Object(o["useState"])(!0),g=Object(c["a"])(f,2),p=g[0],b=g[1],h=Object(o["useState"])(!0),E=Object(c["a"])(h,2),N=E[0],w=E[1],j=Object(o["useState"])(1),y=Object(c["a"])(j,2),k=y[0],S=y[1],C=Object(F["debounce"])((function(){N&&U(k)}),400),T=Object(m["g"])();Object(o["useEffect"])((function(){t?(T({type:"global/saveNoticeNum",payload:{letterNum:0}}),U(1)):(v([]),S(1),b(!0),w(!0))}),[t]);var U=function(e){Object(d["Pb"])(e,!1).then((function(e){var a;(null===e||void 0===e||null===(a=e.rows)||void 0===a?void 0:a.length)&&v([].concat(Object(O["a"])(u),Object(O["a"])(e.rows))),S((function(e){return e+1})),w(e.rows.length>99),b(!1)}))["catch"]((function(){w(!1)}))},z=function(){var e=Object(l["a"])(r.a.mark((function e(){return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["Qb"])();case 2:u.map((function(e){e.viewed=1})),v(u);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){return u.map((function(e,a){return s.a.createElement(A,{data:e,key:"".concat(e.id).concat(a)})}))};return s.a.createElement(s.a.Fragment,null,s.a.createElement(x["a"],{className:"border-0 letterBox header-box",style:{minWidth:"22rem"}},s.a.createElement(x["a"].Body,{className:"letter p-0 font-size-14"},s.a.createElement(_["a"],{as:"ul",style:{height:"360px",overflowY:"auto"}},s.a.createElement(D.a,{className:"content-list-wrap",pageStart:0,initialLoad:!1,loadMore:C,hasMore:N,useWindow:!1},(null===u||void 0===u?void 0:u.length)>0&&M(),N&&!p?s.a.createElement("div",{className:"text-center py-3"},"\u52a0\u8f7d\u4e2d..."):""),p&&s.a.createElement(I,null))),s.a.createElement(x["a"].Footer,{className:"bg-transparent d-flex justify-content-between"},s.a.createElement("a",{href:"#!",className:"text-secondary font-size-14 all-view",onClick:function(e){e.preventDefault(),z()}},s.a.createElement("i",{className:"mr-1 far fa-check-double"}),"\u5168\u90e8\u6807\u8bb0\u4e3a\u5df2\u8bfb"),s.a.createElement("a",{href:"/user/messages",className:"text-secondary font-size-14"},"\u67e5\u770b\u5168\u90e8"))))},M=z,L=t("jrin"),B=t("k1fw"),H=t("pJDg"),W=t("cWnB"),q=function(e){var a,t,n,r=e.data,l=e.readAll,i=Object(o["useState"])(null===r||void 0===r?void 0:r.viewed),m=Object(c["a"])(i,2),d=m[0],u=m[1];return s.a.createElement(T["a"],{as:"li",action:!0,className:"".concat(d||l?"":"bg-warning"," py-2 border-0"),onClick:function(){r.viewed||u(1)}},s.a.createElement("img",{src:(null===r||void 0===r||null===(a=r.trigger_user)||void 0===a?void 0:a[0].avatar_url)||"https://image-static.segmentfault.com/317/931/3179314346-5f61e47221e07",className:"rounded-circle mr-2",width:"32px"}),s.a.createElement("div",{className:"media-body d-inline"},s.a.createElement("a",{href:(null===r||void 0===r||null===(t=r.trigger_user)||void 0===t?void 0:t[0].url)+"?"+(null===r||void 0===r?void 0:r.url.split("?")[1]),target:"_blank",rel:"noreferrer"},null===r||void 0===r||null===(n=r.trigger_user)||void 0===n?void 0:n[0].name)," ",s.a.createElement("span",{className:"text-muted"},"\u5173\u6ce8\u4e86\u4f60")))},P=s.a.memo(q),R=t("EVdn"),Y=function(e){var a,t,n,r,l,c=e.data,o=e.readAll,i=function(e){return Number(e)?Number(e)>0?"badge-success":"badge-danger":"badge-info"},m=function(e){R(e.currentTarget).parents(".noticeDetailParent").removeClass("bg-warning")};return s.a.createElement(T["a"],{as:"li",action:!0,className:"rankItemParent ".concat((null===c||void 0===c?void 0:c.viewed)||o?"":"bg-warning"," py-2 border-0")},((null===c||void 0===c||null===(a=c.voted)||void 0===a?void 0:a.rank)>0||(null===c||void 0===c||null===(t=c.voted)||void 0===t?void 0:t.rank)<0)&&s.a.createElement("span",{className:"badge badge-pill float-left ".concat(i(null===c||void 0===c||null===(n=c.voted)||void 0===n?void 0:n.rank))},"".concat((null===c||void 0===c||null===(r=c.voted)||void 0===r?void 0:r.rank)>0?"+":"").concat(null===c||void 0===c||null===(l=c.voted)||void 0===l?void 0:l.rank)),s.a.createElement("div",{className:"pl-5"},s.a.createElement("span",{dangerouslySetInnerHTML:{__html:c.sentence},className:"rankItem"}),(null===c||void 0===c?void 0:c.excerpt)&&s.a.createElement("a",{href:null===c||void 0===c?void 0:c.url,target:"_blank",rel:"noreferrer",onClick:function(e){return m(e)}}," ",c.excerpt)))},J=s.a.memo(Y),Q=function(e){var a=e.data,t=e.readAll,n=Object(o["useState"])(null===a||void 0===a?void 0:a.viewed),r=Object(c["a"])(n,2),l=r[0],i=r[1];return s.a.createElement(T["a"],{as:"li",action:!0,className:"".concat(l||t?"":"bg-warning"," py-2 border-0")},(null===a||void 0===a?void 0:a.sentence)&&s.a.createElement("span",{dangerouslySetInnerHTML:{__html:a.sentence}}),(null===a||void 0===a?void 0:a.excerpt)&&s.a.createElement("a",{href:null===a||void 0===a?void 0:a.url,target:"_blank",rel:"noreferrer",onClick:function(){a.viewed||i(1)}}," ",a.excerpt))},X=s.a.memo(Q),K=[{name:"general",icon:"far fa-bullhorn"},{name:"ranked",icon:"far fa-trophy-alt"},{name:"followed",icon:"far fa-user-plus"}],V=function(e){var a,t,n,r,l=e.visible,i=Object(o["useState"])("general"),u=Object(c["a"])(i,2),v=u[0],f=u[1],g=Object(o["useState"])(),p=Object(c["a"])(g,2),b=p[0],h=p[1],E=Object(o["useState"])(!0),N=Object(c["a"])(E,2),w=N[0],j=N[1],y=Object(o["useState"])(!0),k=Object(c["a"])(y,2),S=k[0],C=k[1],T=Object(o["useState"])(""),U=Object(c["a"])(T,2),A=U[0],z=U[1],M=Object(o["useState"])({followed:0,general:0,ranked:0}),q=Object(c["a"])(M,2),Y=q[0],Q=q[1],V=Object(o["useState"])(!1),G=Object(c["a"])(V,2),Z=G[0],$=G[1],ee=Object(m["g"])();Object(o["useEffect"])((function(){l?(ce(),ne("",""),ee({type:"global/saveNoticeNum",payload:{noticeNum:0}})):(f("general"),C(!0),j(!0),z(""),h({}))}),[l]);var ae=Object(F["debounce"])((function(){S&&ne(v,A)}),400),te=function(e){var a,t;f(e.name),z(null===b||void 0===b||null===(a=b[e.name])||void 0===a?void 0:a.offset),(null===b||void 0===b||null===(t=b[e.name])||void 0===t?void 0:t.data.length)>9?C(!0):C(!1),le(e.name)},ne=function(e,a){Object(d["kb"])(e,a).then((function(e){var t,n;if(e)if(a){var r={data:[].concat(Object(O["a"])(null===b||void 0===b?void 0:b[v].data),Object(O["a"])(e[v].data)),offset:null===e||void 0===e?void 0:e[v].offset,size:10};h(Object(B["a"])(Object(B["a"])({},b),{},Object(L["a"])({},v,r)))}else h(e);z(null===e||void 0===e||null===(t=e[v])||void 0===t?void 0:t.offset),C((null===e||void 0===e||null===(n=e[v].data)||void 0===n?void 0:n.length)>9),j(!1)}))["catch"]((function(){C(!1)}))},re=function(e){var a,t,n,r,l,c;switch(e){case"general":return null===b||void 0===b||null===(a=b[v])||void 0===a||null===(t=a.data)||void 0===t?void 0:t.map((function(e,a){return s.a.createElement(X,{data:e,key:"".concat(e.sentence).concat(a),readAll:Z})}));case"ranked":return null===b||void 0===b||null===(n=b[v])||void 0===n||null===(r=n.data)||void 0===r?void 0:r.map((function(e,a){return s.a.createElement(J,{data:e,key:"".concat(e.sentence).concat(a),readAll:Z})}));case"followed":return null===b||void 0===b||null===(l=b[v])||void 0===l||null===(c=l.data)||void 0===c?void 0:c.map((function(e,a){var t;return s.a.createElement(P,{data:e,key:"".concat(null===e||void 0===e||null===(t=e.trigger_user)||void 0===t?void 0:t[0].id).concat(a),readAll:Z})}));default:return null}},le=function(e){"all"!==e&&Y[e]<=0||Object(d["Hb"])(e).then((function(a){a&&("all"===e&&$(!0),Q(Object(B["a"])(Object(B["a"])({},Y),{},Object(L["a"])({},e,0))))}))},ce=function(){Object(d["tb"])().then((function(e){Q(Object(B["a"])(Object(B["a"])({},e),{},{followed:0}))}))};Object(o["useEffect"])((function(){var e,a;(null===b||void 0===b||null===(e=b["rank"])||void 0===e||null===(a=e.data)||void 0===a?void 0:a.length.length)&&R(".rankItem a").on("click",(function(e){return oe(e)}))}),[null===b||void 0===b||null===(a=b["rank"])||void 0===a||null===(t=a.data)||void 0===t?void 0:t.length]);var oe=function(e){var a=R(e.currentTarget).attr("href");(null===a||void 0===a?void 0:a.includes("_ea"))&&R(e.currentTarget).parents(".rankItemParent").removeClass("bg-warning")};return s.a.createElement(s.a.Fragment,null,s.a.createElement(x["a"],{className:"border-0 letterBox header-box",style:{minWidth:"22rem"}},s.a.createElement(x["a"].Header,{className:"bg-transparent text-center border-0"},s.a.createElement(H["a"],{className:"w-100 msg-btn-group"},K.map((function(e){return s.a.createElement(W["a"],{variant:"outline-secondary",size:"sm",className:v===e.name?"active":"",key:e.name,onClick:function(){return te(e)}},s.a.createElement("i",{className:"fa-w-18 ".concat(e.icon)}),!Z&&Y[e.name]>0&&s.a.createElement("div",{className:"has-unread-dot"}))})))),s.a.createElement(x["a"].Body,{className:"letter p-0 font-size-14"},s.a.createElement(_["a"],{style:{height:"306px",overflowY:"auto"},as:"ul"},s.a.createElement(D.a,{className:"content-list-wrap",pageStart:0,initialLoad:!1,loadMore:ae,hasMore:S,useWindow:!1},(null===b||void 0===b||null===(n=b[v])||void 0===n||null===(r=n.data)||void 0===r?void 0:r.length)>0&&re(v),S&&!w?s.a.createElement("div",{className:"text-center py-3"},"\u52a0\u8f7d\u4e2d..."):""),w&&s.a.createElement(I,null))),s.a.createElement(x["a"].Footer,{className:"bg-transparent d-flex justify-content-between"},s.a.createElement("a",{href:"#",className:"text-secondary font-size-14 all-view",onClick:function(e){e.preventDefault(),le("all")}},s.a.createElement("i",{className:"mr-1 far fa-check-double"}),"\u5168\u90e8\u6807\u8bb0\u4e3a\u5df2\u8bfb"),s.a.createElement("a",{href:"/user/notifications",className:"text-secondary font-size-14"},"\u67e5\u770b\u5168\u90e8"))))},G=V,Z=t("TSYQ"),$=t.n(Z),ee=t("tSvB"),ae=$()(p.a["medal-circle"],"mr-1"),te=function(e){var a,t,n,r,l,i,m,d,u,v=Object(o["useState"])(!1),f=Object(c["a"])(v,2),g=f[0],p=f[1];return s.a.createElement(s.a.Fragment,null,s.a.createElement("h5",{className:"dropdown-header",style:{minWidth:"316px"}},s.a.createElement("span",{className:"mr-2",style:{color:"#BF7158"}},s.a.createElement("i",{className:"mr-1 fas fa-wreath"}),null===(a=e.sessionUser)||void 0===a||null===(t=a.user)||void 0===t?void 0:t.rank),s.a.createElement("span",{className:"d-inline-block mr-1"},s.a.createElement("i",{className:"".concat(ae," fas fa-circle"),style:{color:"#FFDA23"}}),null===(n=e.userStat.summary_badges)||void 0===n?void 0:n.gold),s.a.createElement("span",{className:"d-inline-block mr-1"},s.a.createElement("i",{className:"".concat(ae," fas fa-circle"),style:{color:"#C5C5C5"}}),null===(r=e.userStat.summary_badges)||void 0===r?void 0:r.silver),s.a.createElement("span",{className:"d-inline-block mr-1"},s.a.createElement("i",{className:"".concat(ae," fas fa-circle"),style:{color:"#CD9A62"}}),null===(l=e.userStat.summary_badges)||void 0===l?void 0:l.bronze)),s.a.createElement("div",{className:"dropdown-divider"}),s.a.createElement("div",{className:"row no-gutters"},s.a.createElement("div",{className:"col-6"},s.a.createElement("a",{className:"dropdown-item",href:(null===(i=e.sessionUser)||void 0===i?void 0:i.user.url)+"/articles"},"\u6211\u7684\u6587\u7ae0"),s.a.createElement("a",{className:"dropdown-item",href:(null===(m=e.sessionUser)||void 0===m?void 0:m.user.url)+"/notes"},"\u6211\u7684\u7b14\u8bb0"),s.a.createElement("a",{className:"dropdown-item",href:(null===(d=e.sessionUser)||void 0===d?void 0:d.user.url)+"/bookmarks"},"\u6211\u7684\u6536\u85cf"),s.a.createElement("a",{className:"dropdown-item d-flex justify-content-between align-items-center",href:"/user/invited"},"\u53d7\u9080\u56de\u7b54",e.userStat.invites>0&&s.a.createElement("span",{className:"badge badge-pill badge-secondary"},e.userStat.invites<99?e.userStat.invites:"...")),s.a.createElement("a",{className:"dropdown-item",href:"/experts"},"\u4ed8\u8d39\u95ee\u7b54")),s.a.createElement("div",{className:"col-6"},s.a.createElement("a",{className:"dropdown-item",href:e.sessionUser.user.url},"\u6211\u7684\u4e3b\u9875"),s.a.createElement("a",{className:"dropdown-item",href:"/user/finance"},"\u6211\u7684\u8d44\u4ea7"),s.a.createElement("a",{className:"dropdown-item",href:"/user/about"},"\u4e2a\u4eba\u6863\u6848"),s.a.createElement("a",{className:"dropdown-item",href:"/user/settings"},"\u4e2a\u4eba\u8bbe\u7f6e"),s.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(a){a.preventDefault(),R("#userDropDown").removeClass("show"),e.logout()}},"\u9000\u51fa\u767b\u5f55"))),s.a.createElement("div",{className:"dropdown-divider"}),s.a.createElement("div",{className:"px-4 py-1 font-size-14"},s.a.createElement("a",{href:"#!",className:"text-secondary",onClick:function(){p(!0)}},"\u7528\u6237\u7533\u8bc9"),s.a.createElement("span",{className:"split-dot"}),s.a.createElement("a",{href:"/0x",className:"text-secondary",target:"_blank"},"\u5efa\u8bae\u53cd\u9988"),s.a.createElement("span",{className:"split-dot"}),s.a.createElement("a",{href:"/user/invitation",className:"text-secondary",target:"_blank"},"\u9080\u8bf7\u670b\u53cb"),(null===e||void 0===e||null===(u=e.sessionUser)||void 0===u?void 0:u.is_change)&&s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:"split-dot"}),s.a.createElement("a",{href:"#!",className:"text-secondary",onClick:function(a){a.stopPropagation(),e.outChange()}},"\u9000\u51fa\u5207\u6362"))),s.a.createElement(ee["a"],{isShow:g,setModalStatus:p}))},ne=te,re=s.a.forwardRef((function(e,a){var t,n,r=e.sessionUser,l=e.children,c=e.onClick;return s.a.createElement(s.a.Fragment,null,s.a.createElement("a",{className:"nav-link p-0",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",href:null===(t=r.user)||void 0===t?void 0:t.url,ref:a,onClick:function(e){e.preventDefault(),c(e)}},s.a.createElement("img",{className:"rounded-circle d-lg-inline-block",width:"32",height:"32",src:(null===(n=r.user)||void 0===n?void 0:n.avatar_url)||"https://image-static.segmentfault.com/317/931/3179314346-5f61e47221e07",alt:"\u5934\u50cf"}),s.a.createElement("span",{className:"d-lg-none"},l)))}));re.displayName="Profile_Toggle";var le=Object(m["b"])((function(e){var a=e.global;return{sessionUser:a.sessionUser}}),null,null,{forwardRef:!0})(re),ce=function(e){var a,n=e.sessionUser,m=e.menu,u=e.title,g=e.rightComponent,O=e.dispatch,x=e.letterNum,_=void 0===x?0:x,S=e.noticeNum,I=void 0===S?0:S,C=e.userStat,D=Object(i["j"])(),T=Object(o["useState"])((function(){return m||[{name:"\u9996\u9875",url:"/"},{name:"\u95ee\u7b54",url:"/questions"},{name:"\u4e13\u680f",url:"/blogs"},{name:"\u8d44\u8baf",url:"/news"},{name:"\u8bfe\u7a0b",url:"https://ke.sifou.com",icon:"fas fa-fire-alt"},{name:"\u6d3b\u52a8",url:"/events"}]})),U=Object(c["a"])(T,1),A=U[0],F=Object(o["useState"])(!1),z=Object(c["a"])(F,2),L=z[0],B=z[1],H=Object(o["useState"])(!1),W=Object(c["a"])(H,2),q=W[0],P=W[1],R=function(){var e=Object(l["a"])(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["z"])();case 2:v.a.remove("sf_remember"),a=f["b"].find((function(e){return window.location.pathname.includes(e.pathname)})),a?window.location.href=a.redirect:window.location.reload();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){localStorage.setItem("referer",decodeURI(window.location.href)),O({type:"global/saveShowLoginState",payload:{isShowLogin:!0}})},J=function(){var e=Object(l["a"])(r.a.mark((function e(){return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["o"])();case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return s.a.createElement(b["a"],{id:"sf-header",expand:"lg",className:"bg-white shadow-sm sticky-top"},s.a.createElement(h["a"],null,s.a.createElement(b["a"].Brand,{className:p.a["sf-header"],href:"/"},s.a.createElement("img",{src:t("XHHP"),width:"139",height:"26",className:"d-inline-block",alt:"segmentfault"})),!n&&!u&&s.a.createElement("a",{className:"btn btn-primary d-lg-none ml-auto mr-2",href:"/user/login",onClick:function(){localStorage.setItem("referer",decodeURI(window.location.href))}},"\u6ce8\u518c\u767b\u5f55"),!u&&s.a.createElement(b["a"].Toggle,{"aria-controls":"basic-navbar-nav"}),u?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"h5 mb-0 text-secondary"},u),g()):s.a.createElement(b["a"].Collapse,{id:"basic-navbar-nav",className:"justify-content-between"},s.a.createElement(E["a"],{className:"font-weight-bold"},A.map((function(e,a){return"\u8bfe\u7a0b"===e.name?s.a.createElement("a",{key:e.url,href:e.url,target:"_blank",rel:"noreferrer",className:"nav-link"},e.name,e.icon&&s.a.createElement("i",{className:"ml-1 text-danger ".concat(e.icon),style:{width:"0.88rem",verticalAlign:"text-bottom"}})):s.a.createElement(E["a"].Link,{href:e.url,key:a,active:e.url===D.location.pathname},e.name,e.icon&&s.a.createElement("i",{className:"ml-1 text-danger ".concat(e.icon),style:{width:"0.88rem",verticalAlign:"text-bottom"}}))})),s.a.createElement(N["a"],{title:"\u53d1\u73b0",id:"basic-nav-dropdown",className:"hover-down"},s.a.createElement(N["a"].Item,{href:"/groups"},"\u5708\u5b50"),s.a.createElement(N["a"].Item,{href:"/tags"},"\u6807\u7b7e"),s.a.createElement(N["a"].Item,{href:"/groups?tab=jobs"},"\u9177\u5de5\u4f5c"),s.a.createElement(N["a"].Item,{href:"/users"},"\u6392\u884c\u699c"),s.a.createElement(N["a"].Item,{href:"/badges"},"\u5fbd\u7ae0"),s.a.createElement(N["a"].Item,{href:"/notes"},"\u7b14\u8bb0"),s.a.createElement(N["a"].Divider,null),s.a.createElement(N["a"].Item,{href:"https://business.segmentfault.com/ads?utm_source=sf-header",target:"_blank"},"\u5e7f\u544a\u6295\u653e",s.a.createElement("i",{className:"ml-2 text-warning fas fa-external-link-square-alt"})))),s.a.createElement(w["a"],{inline:!0,className:"d-none d-xl-block px-3 ".concat(p.a["header-search"]),action:"/search"},s.a.createElement(j["a"],{type:"text",name:"q",placeholder:"\u641c\u7d22\u5173\u952e\u5b57","aria-label":"\u641c\u7d22",className:"mr-sm-2 w-100"})),n?s.a.createElement("ul",{className:"navbar-nav navbar-user align-items-lg-center"},s.a.createElement(y["a"],{className:"position-relative"},s.a.createElement(y["a"].Toggle,{variant:"primary",id:"dropdown-custom-components",className:"mr-2"},s.a.createElement("span",{className:"mr-1"},"\u64b0\u5199")),s.a.createElement(y["a"].Menu,null,s.a.createElement(y["a"].Item,{href:"/ask"},"\u63d0\u95ee\u9898"),s.a.createElement(y["a"].Item,{href:"/write"},"\u5199\u6587\u7ae0"),s.a.createElement(y["a"].Item,{href:"/notes"},"\u8bb0\u7b14\u8bb0"),s.a.createElement(y["a"].Item,{href:"/video/add"},"\u53d1\u89c6\u9891"),s.a.createElement(y["a"].Item,{href:"/live/add"},"\u5f00\u76f4\u64ad"),s.a.createElement(y["a"].Divider,null),s.a.createElement(y["a"].Item,{href:"/user/draft",className:"d-inline-flex justify-content-between align-items-center"},s.a.createElement("span",null,"\u8349\u7a3f"),(null===C||void 0===C?void 0:C.drafts)>0&&s.a.createElement(k["a"],{variant:"secondary rounded-pill px-2"},null===C||void 0===C?void 0:C.drafts)))),s.a.createElement(y["a"],{className:"nav-item position-relative",onToggle:function(e){P(e)}},s.a.createElement(y["a"].Toggle,{as:"a",className:"dropdown-no-angle nav-link",style:{cursor:"pointer"}},s.a.createElement("i",{className:"mr-1 fa-fw far fa-bell"}),s.a.createElement("span",{className:"d-lg-none"},"\u901a\u77e5"),I>0&&s.a.createElement(k["a"],{variant:"danger",className:"badge-pill has-unread-count"},I>99?"...":I)),s.a.createElement(y["a"].Menu,{className:"dropdown-menu-right p-0",show:q},s.a.createElement(G,{visible:q}))),s.a.createElement(y["a"],{className:"nav-item position-relative",id:"letter",onToggle:function(e){B(e)}},s.a.createElement(y["a"].Toggle,{as:"a",className:"dropdown-no-angle nav-link",style:{cursor:"pointer"}},s.a.createElement("i",{className:"mr-1 fa-fw far fa-envelope"}),s.a.createElement("span",{className:"d-lg-none"},"\u79c1\u4fe1"),_>0&&s.a.createElement(k["a"],{variant:"danger",className:"badge-pill has-unread-count"},_>99?"...":_)),s.a.createElement(y["a"].Menu,{className:"dropdown-menu-right p-0",show:L},s.a.createElement(M,{visible:L}))),(null===n||void 0===n||null===(a=n.user)||void 0===a?void 0:a.rank)>=500&&s.a.createElement(E["a"].Item,null,s.a.createElement("a",{href:"/review",className:"nav-link","aria-label":"\u4f17\u5ba1\u4e2d\u5fc3"},s.a.createElement("i",{className:"mr-1 fa-fw far fa-tasks"}),s.a.createElement("span",{id:"reviewCount",className:"d-lg-none"},"\u4f17\u5ba1\u4e2d\u5fc3"))),s.a.createElement(y["a"],{className:"position-relative ml-2"},s.a.createElement(y["a"].Toggle,{as:le,id:"dropdown-custom-components"},"\u6211\u7684"),s.a.createElement(y["a"].Menu,{alignRight:!0,id:"userDropDown"},s.a.createElement(ne,{sessionUser:n,logout:R,outChange:J,userStat:C})))):s.a.createElement(b["a"],{className:"p-0"},s.a.createElement(E["a"].Item,{className:"d-none d-lg-flex mr-2"},s.a.createElement("a",{href:"/user/login",className:"btn btn-link",onClick:function(e){e.preventDefault(),Y()}},"\u7acb\u5373\u767b\u5f55")),s.a.createElement(E["a"].Item,{className:"d-none d-lg-flex"},s.a.createElement("a",{href:"/user/register",className:"btn btn-primary",onClick:function(e){e.preventDefault(),Y()}},"\u514d\u8d39\u6ce8\u518c"))))))};a["a"]=Object(m["b"])((function(e){var a=e.global;return{sessionUser:a.sessionUser,letterNum:a.letterNum,noticeNum:a.noticeNum,userStat:a.userStat}}))(ce)}}]);